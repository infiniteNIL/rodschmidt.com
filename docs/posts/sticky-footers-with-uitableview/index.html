<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.119.0">

    
    
    

<title>Sticky Footers with UITableView â€¢ Rod Schmidt</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sticky Footers with UITableView"/>
<meta name="twitter:description" content="The Problem Last week, I had to implement sticky footers in a table view. Sticky footers are where the footer comes at the end of all the table contents, but if the contents are such that the scrollable content height of the table view is less than the height of the view, the footer will still appear at the bottom of the view.
A non-sticky footer
A sticky footer
I searched for a solution to this, but all I found were solutions where the footer was always at the bottom of the view."/>

<meta property="og:title" content="Sticky Footers with UITableView" />
<meta property="og:description" content="The Problem Last week, I had to implement sticky footers in a table view. Sticky footers are where the footer comes at the end of all the table contents, but if the contents are such that the scrollable content height of the table view is less than the height of the view, the footer will still appear at the bottom of the view.
A non-sticky footer
A sticky footer
I searched for a solution to this, but all I found were solutions where the footer was always at the bottom of the view." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rodschmidt.com/posts/sticky-footers-with-uitableview/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-02-16T23:49:00+00:00" />
<meta property="article:modified_time" content="2015-02-16T23:49:00+00:00" />


    






<link rel="stylesheet" href="https://rodschmidt.com/scss/hyde-hyde.0d89d10ddd2f2e23f97e661848b7ad8092fbfcbe8d60e4d1564914cf25d188d8.css" integrity="sha256-DYnRDd0vLiP5fmYYSLetgJL7/L6NYOTRVkkUzyXRiNg=">


<link rel="stylesheet" href="https://rodschmidt.com/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rodschmidt.com/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="https://rodschmidt.com/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://rodschmidt.com/">Rod Schmidt</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/e72ca1d6149c220065acbb01cd9f5d01?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
         Thoughts on Software Development 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Rod Schmidt</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://rodschmidt.com/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://rodschmidt.com/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://rodschmidt.com/tags/">
						<span>Tags</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://rodschmidt.com/index.xml">
						<span>RSS</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/rodschmidt" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/infinitenil" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/rodschmidt" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://stackoverflow.com/users/117435" rel="me"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2025 Rod Schmidt
  
</div>



  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Sticky Footers with UITableView</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Feb 16, 2015
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="https://rodschmidt.com/tags/cocoa-touch">cocoa touch</a>
          
      
    
    
    <br/>
    
</div>


  </header>
  
  
  <div class="post">
    <h1 id="the-problem">The Problem</h1>
<p>Last week, I had to implement sticky footers in a table view. Sticky footers are where the footer comes at the end of all the table contents, but if the contents are such that the scrollable content height of the table view is less than the height of the view, the footer will still appear at the bottom of the view.</p>
<span style="float: left; padding-right: 10px;">
  <img style="border: 1px solid black;" src="https://rodschmidt.com/images/nonstickyfooter-169x300.png" title="A non-sticky footer" alt="A non-sticky footer">
  <p style="text-align: center; font-size: smaller">A non-sticky footer</p>
</span>
  
<span style="float: left; padding-right: 10px;">
  <img style="border: 1px solid black;" src="https://rodschmidt.com/images/stickyfooter-169x300.png" title="A sticky footer" alt="A sticky footer">
  <p style="text-align: center; font-size: smaller">A sticky footer</p>
</span>
  
<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
I searched for a solution to this, but all I found were solutions where the footer was always at the bottom of the view. That&rsquo;s pretty easy to solve. You just use a UIViewController and put a UITableView and your footer view into the view controller&rsquo;s view, lay it out properly and you&rsquo;re good to go. In this scenario, the footer never scrolls and is always visible. That&rsquo;s not the kind of sticky footer I needed.</p>
<h1 id="the-solution">The Solution</h1>
<p>The solution I came up with was to stick my footer view into another view that I used as the UITableView&rsquo;s footer. Let&rsquo;s call it the main footer view. You then resize this main footer view depending on the scrollable content of the table. If the scrollable content height is greater than the tables view&rsquo;s visible height then no need to do anything. The main footer view and my footer view are the same size. However, if the content height is less than the visible height then you just resize the main footer view to occupy the remaining space.</p>
<h1 id="the-code">The Code</h1>
<p>First, I added a propery to my UITableViewController subclass: <code>@property (nonatomic) BOOL footerNeedsLayout;</code> Then I overrode viewDidLayoutSubviews:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-objective-c" data-lang="objective-c"><span style="display:flex;"><span>- (<span style="color:#66d9ef">void</span>)<span style="color:#a6e22e">viewDidLayoutSubviews</span> {
</span></span><span style="display:flex;"><span>    [super viewDidLayoutSubviews];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (self.footerNeedsLayout) {
</span></span><span style="display:flex;"><span>        [self setupComplianceFooter];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>What this does is recreate the footer and position it after everything has been laid out. What this means is that whenever your data changes and before you call <code>reloadData</code> on the table you should set <code>footerNeedsLayout</code> to <code>YES</code>. This could have been done with programmatic constraints and let AutoLayout take care of it, but I chose to do it this way as it seemed to be a simpler solution and easier to get done in the time constraints I was under. Plus I wanted the compliance footer to be a reusable component and didn&rsquo;t want to duplicate the UI all over the storyboard for the app.</p>
<p>Adding the footer works like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-objective-c" data-lang="objective-c"><span style="display:flex;"><span>- (<span style="color:#66d9ef">void</span>)<span style="color:#a6e22e">setupComplianceFooter</span> {
</span></span><span style="display:flex;"><span>    self.tableView.tableFooterView <span style="color:#f92672">=</span> nil;
</span></span><span style="display:flex;"><span>    self.complianceViewController <span style="color:#f92672">=</span> [[ComplianceViewController alloc] init];
</span></span><span style="display:flex;"><span>    self.complianceViewController.showAllComponentsIfData <span style="color:#f92672">=</span> YES;
</span></span><span style="display:flex;"><span>    self.complianceViewController.view.autoresizingMask <span style="color:#f92672">=</span> UIViewAutoresizingFlexibleTopMargin <span style="color:#f92672">|</span> UIViewAutoresizingFlexibleWidth;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    UIView <span style="color:#f92672">*</span>complianceView <span style="color:#f92672">=</span> self.complianceViewController.view;
</span></span><span style="display:flex;"><span>    UIView <span style="color:#f92672">*</span>footerView <span style="color:#f92672">=</span> [[UIView alloc] initWithFrame:complianceView.frame];
</span></span><span style="display:flex;"><span>    footerView.autoresizingMask <span style="color:#f92672">=</span> UIViewAutoresizingFlexibleWidth;
</span></span><span style="display:flex;"><span>    [footerView addSubview:complianceView];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    footerView.frame <span style="color:#f92672">=</span> [self frameForFooter:footerView];
</span></span><span style="display:flex;"><span>    self.tableView.tableFooterView <span style="color:#f92672">=</span> footerView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [self addChildViewController:self.complianceViewController];
</span></span><span style="display:flex;"><span>    self.footerNeedsLayout <span style="color:#f92672">=</span> NO;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>Notice that we do set the autoresizing masks of the compliance footer and the main footer so that AutoLayout will generate the correct constraints.</p>
<p>Finally, here&rsquo;s the code to compute the frame for our main footer view:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-objective-c" data-lang="objective-c"><span style="display:flex;"><span>- (CGRect)<span style="color:#a6e22e">frameForFooter:</span>(UIView <span style="color:#f92672">*</span>)footerView {
</span></span><span style="display:flex;"><span>    CGRect frame <span style="color:#f92672">=</span> footerView.frame;
</span></span><span style="display:flex;"><span>    CGFloat visibleSpace <span style="color:#f92672">=</span> CGRectGetHeight(self.tableView.frame) self.tableView.contentInset.bottom <span style="color:#f92672">-</span> self.tableView.contentInset.top;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (self.tableView.contentSize.height <span style="color:#f92672">&lt;</span> visibleSpace <span style="color:#f92672">-</span> CGRectGetHeight(frame)) {
</span></span><span style="display:flex;"><span>        CGFloat emptySpace <span style="color:#f92672">=</span> visibleSpace <span style="color:#f92672">-</span> self.tableView.contentSize.height;
</span></span><span style="display:flex;"><span>        frame.size.height <span style="color:#f92672">=</span> emptySpace;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        frame <span style="color:#f92672">=</span> self.complianceViewController.view.frame;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> frame;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>We just compute the visible space of the table view (its height - its content insets). If the height of the table view&rsquo;s content is less than the visible space - the footer height then we adjust the footer to fill up the empty space. Otherwise we leave the footer alone. It wasn&rsquo;t as hard as a thought it would be. A better solution would be to use layout constraints in such a way that the footer wouldn&rsquo;t have to be constantly recreated and repositioned whenever the data changes.</p>

  </div>
  <script async data-uid="d20275c87b" src="https://relentless-teacher-3937.ck.page/d20275c87b/index.js"></script>
  

<div class="navigation navigation-single">
    
    <a href="https://rodschmidt.com/posts/back-to-wordpress/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Back to Wordpress</span>
    </a>
    
    
    <a href="https://rodschmidt.com/posts/robots-robots-robots/" class="navigation-next">
      <span class="navigation-tittle">Robots! Robots! Robots!</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'rodschmidt';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>





    



    </body>
</html>
